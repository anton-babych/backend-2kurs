{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport { FormContainerComponent } from \"../form/form-container.component\";\nimport { AsyncPipe, NgIf } from \"@angular/common\";\nimport { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"itemHTML\"];\n\nfunction GridItemComponent_form_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form-container\", 8);\n    i0.ɵɵlistener(\"isDone\", function GridItemComponent_form_container_9_Template_form_container_isDone_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onFormIsDone());\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"item\", ctx_r1.item);\n  }\n}\n\nexport let GridItemComponent = /*#__PURE__*/(() => {\n  class GridItemComponent {\n    constructor() {\n      this.buttonsVisible = false;\n      this.formIsVisible$ = new BehaviorSubject(false);\n    }\n\n    onMouseMove(mouseEvent) {\n      const rect = this.itemElement.nativeElement.getBoundingClientRect(),\n            x = mouseEvent.clientX - rect.left,\n            y = mouseEvent.clientY - rect.top;\n      this.itemElement.nativeElement.style.setProperty(\"--mouse-x\", `${x}px`);\n      this.itemElement.nativeElement.style.setProperty(\"--mouse-y\", `${y}px`);\n    }\n\n    onMouseEnter() {\n      this.buttonsVisible = true;\n    }\n\n    onMouseLeave() {\n      this.buttonsVisible = false;\n    }\n\n    onGridClick() {\n      this.formIsVisible$.next(true);\n    }\n\n    onFormIsDone() {\n      this.formIsVisible$.next(false);\n    }\n\n  }\n\n  GridItemComponent.ɵfac = function GridItemComponent_Factory(t) {\n    return new (t || GridItemComponent)();\n  };\n\n  GridItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GridItemComponent,\n    selectors: [[\"grid-item\"]],\n    viewQuery: function GridItemComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.itemElement = _t.first);\n      }\n    },\n    inputs: {\n      item: \"item\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 11,\n    vars: 6,\n    consts: [[1, \"grid-item\", 3, \"mouseenter\", \"mousemove\", \"mouseleave\", \"click\"], [\"itemHTML\", \"\"], [1, \"grid-item__image-container\"], [\"alt\", \"\", 1, \"grid-item__image\", 3, \"src\"], [1, \"grid-item__text-container\"], [1, \"grid-item__name\"], [1, \"grid-item__price\"], [3, \"item\", \"isDone\", 4, \"ngIf\"], [3, \"item\", \"isDone\"]],\n    template: function GridItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0, 1);\n        i0.ɵɵlistener(\"mouseenter\", function GridItemComponent_Template_div_mouseenter_0_listener() {\n          return ctx.onMouseEnter();\n        })(\"mousemove\", function GridItemComponent_Template_div_mousemove_0_listener($event) {\n          return ctx.onMouseMove($event);\n        })(\"mouseleave\", function GridItemComponent_Template_div_mouseleave_0_listener() {\n          return ctx.onMouseLeave();\n        })(\"click\", function GridItemComponent_Template_div_click_0_listener() {\n          return ctx.onGridClick();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(9, GridItemComponent_form_container_9_Template, 1, 1, \"form-container\", 7);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.item.image_url, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.item.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.item.price, \" \\u0433\\u0440\\u043D\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 4, ctx.formIsVisible$));\n      }\n    },\n    dependencies: [FormContainerComponent, NgIf, AsyncPipe],\n    styles: [\".grid-item[_ngcontent-%COMP%]{width:100%;aspect-ratio:.75;border:1px solid #3f3f3f;display:flex;flex-direction:column;justify-content:space-evenly;overflow:hidden;position:relative}.grid-item[_ngcontent-%COMP%]:hover:before{opacity:1}.grid-item[_ngcontent-%COMP%]:before{content:\\\"\\\";height:100%;width:100%;left:0;top:0;position:absolute;z-index:2;background:radial-gradient(500px circle at var(--mouse-x) var(--mouse-y),rgba(255,255,255,.06),transparent 40%);border-radius:inherit;opacity:0;transition:opacity .5s}.grid-item__image-container[_ngcontent-%COMP%]{width:100%;height:60%;position:relative;display:inline-block}.grid-item__image[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);height:80%}.grid-item__text-container[_ngcontent-%COMP%]{height:auto;display:flex;flex-direction:column;justify-content:center;place-items:center}.grid-item__name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px;font-size:16px}.grid-item__price[_ngcontent-%COMP%]{font-weight:100;font-size:12px}.grid-item__buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;flex-direction:row-reverse;width:100%;height:100px}.grid-item__buttons__button[_ngcontent-%COMP%]{z-index:10;cursor:pointer;width:20px;height:20px}.grid-item__buttons__open[_ngcontent-%COMP%]{background-color:#a1a1a1;background-image:url(https://www.awwwards.com/assets/redesign/images/sprite-icons.svg#link)}.grid-item__buttons__edit[_ngcontent-%COMP%]{background-color:#d24040}.grid-item__buttons__delete[_ngcontent-%COMP%]{background-color:#ffa216}\"],\n    changeDetection: 0\n  });\n  return GridItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}